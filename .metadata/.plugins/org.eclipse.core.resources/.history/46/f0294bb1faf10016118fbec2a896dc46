package Command;

import java.io.File;
import java.io.FileInputStream;
import java.io.IOException;

import Main.FtpRequest;

public class CommandRetr extends Command{

	public CommandRetr(FtpRequest ftp, File repertoire, String filename) {
		super(ftp);
		process(repertoire, filename);
	}
	
	public void process(File repertoire, String filename){
		File file = new File(repertoire.getPath() + "/" + filename);
		
		try(FileInputStream is = new FileInputStream(file)) {
			ftp.transmitToClient(is);
		} catch(IOException e) {
			 super.send(001, "RETR r√©ussi");
			return;
		}
	   
	}
	
}
