package car.tp2.ressource;


import java.io.InputStream;
import java.net.URI;
import java.net.URISyntaxException;

import javax.ws.rs.GET;
import javax.ws.rs.Path;
import javax.ws.rs.PathParam;
import javax.ws.rs.Produces;
import javax.ws.rs.core.MediaType;
import javax.ws.rs.core.Response;
import javax.ws.rs.core.Response.Status;

/**
 * Resources that will be displayed if the Application's root is requested.
 * 
 * No {@link Path} annotation is present because this is the root path.
 */
public class WebRessource {
	
	@GET
	@Produces(MediaType.TEXT_HTML)
	public Response index() throws URISyntaxException {
		return Response.seeOther(new URI("web/index.html")).build();
	}
	
	
	@SuppressWarnings("resource")
	@GET
	@Path("web/{path}")
	public Response staticRes(@PathParam("path") String path) {
		InputStream is = getClass().getClassLoader().getResourceAsStream("webres/"+path);
		if (is == null)
			return Response.status(Status.NOT_FOUND).build();
		return Response.ok(is).build();
	}
	
}