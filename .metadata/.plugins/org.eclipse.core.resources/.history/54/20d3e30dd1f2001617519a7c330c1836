package Request;

import java.io.File;

import Command.Command;
import Command.CommandCwd;
import Command.CommandList;
import Command.CommandPass;
import Command.CommandPwd;
import Command.CommandQuit;
import Command.CommandRetr;
import Command.CommandStor;
import Command.CommandUser;

public class ProcessRequests {
	private FtpRequest ftp;
	
	public ProcessRequests(FtpRequest ftp){
		this.ftp = ftp;
	}
	
	public void processUSER(String name){
		@SuppressWarnings("unused")
		Command user = new CommandUser(ftp, name);
		ftp.setNameGiven(true);
	}
	
	public void processPASS(String pass){
		if(ftp.getNameGiven()){
			@SuppressWarnings("unused")
			Command pwd = new CommandPass(ftp, pass);
		}else{
			ftp.send(000, "Erreur: utilisateur non renseign√©");
		}
	}
	
	public void processPASV(){
		Thread t = new Thread(){
			public void runnable(){
				return;
				//DataSocket ds = attendreCX();
			};
		};
		ftp.send(227, "");
		ftp.setIsPassive(true);
	}
	
	public void processPORT(){
		ftp.setIsPassive(false);
	}
	
	public void processRETR(String filename){
		@SuppressWarnings("unused")
		Command retr = new CommandRetr(ftp, filename);
	}
	
	public void processSTOR(String filename){
		@SuppressWarnings("unused")
		Command stor = new CommandStor(ftp, filename);
	}
	
	public void processLIST(){
		@SuppressWarnings("unused")
		Command list = new CommandList(ftp);
	}
	
	public void processQUIT(){
		@SuppressWarnings("unused")
		Command quit = new CommandQuit(ftp);
	}
	
	public void processCwd(String filename){
		CommandCwd cwd = new CommandCwd(ftp);
		for( String temp: filename.split("/")){
			if(!cwd.process(temp))
				break;
		}
	}
	
	public void processPwd(){
		@SuppressWarnings("unused")
		CommandPwd pwd = new CommandPwd(ftp);
	}
}
