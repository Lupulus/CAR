package actor;

import java.util.ArrayList;

import akka.actor.ActorRef;
import akka.actor.UntypedActor;

public class NodeActor extends UntypedActor{
	 public static enum Msg {
		    TRANSMIT, SENDBACK, GRAPH, DONE;
	  }
	 
	 public ArrayList<ActorRef> children;
	 public ActorRef parent;
	 
	@Override
	public void onReceive(Object msg) throws Exception {
		if(msg instanceof ActorRef){
			children.add((ActorRef) msg);
		}else if(msg instanceof Msg){
			switch((Msg) msg){
				case TRANSMIT: parent = getSender(); 
							   for(ActorRef child : children){child.tell(Msg.TRANSMIT, getSelf());};
				case SENDBACK: if(parent != null) parent.tell(Msg.SENDBACK, getSelf());
				case GRAPH: break;
			}
		}else unhandled(msg);
	}

}
